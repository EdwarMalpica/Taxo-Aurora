First, let's create a utility file to store common functions and constants that we'll use throughout the project. This file will help us keep our code organized and maintainable.

```tsx file="lib/utils.ts"
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

Next, let's create a mock data file to simulate movie data that we'll use for testing and development. This file will provide sample movie information for our application.

```tsx file="lib/mock-data.ts"
// Mock data for movies
export const mockMovies = [
  {
    id: 1,
    title: "Inception",
    poster: "/placeholder.svg?height=450&width=300&text=Inception",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Inception+Backdrop",
    year: 2010,
    rating: 8.8,
    runtime: 148,
    director: "Christopher Nolan",
    cast: ["Leonardo DiCaprio", "Joseph Gordon-Levitt", "Elliot Page", "Tom Hardy"],
    plot: "A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",
    genres: ["Action", "Adventure", "Sci-Fi"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Inception+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Inception+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Inception+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Inception+Scene+4",
    ],
  },
  {
    id: 2,
    title: "The Shawshank Redemption",
    poster: "/placeholder.svg?height=450&width=300&text=Shawshank",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Shawshank+Backdrop",
    year: 1994,
    rating: 9.3,
    runtime: 142,
    director: "Frank Darabont",
    cast: ["Tim Robbins", "Morgan Freeman", "Bob Gunton", "William Sadler"],
    plot: "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",
    genres: ["Drama"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Shawshank+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Shawshank+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Shawshank+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Shawshank+Scene+4",
    ],
  },
  {
    id: 3,
    title: "The Dark Knight",
    poster: "/placeholder.svg?height=450&width=300&text=Dark+Knight",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Dark+Knight+Backdrop",
    year: 2008,
    rating: 9.0,
    runtime: 152,
    director: "Christopher Nolan",
    cast: ["Christian Bale", "Heath Ledger", "Aaron Eckhart", "Michael Caine"],
    plot: "When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.",
    genres: ["Action", "Crime", "Drama"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Dark+Knight+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Dark+Knight+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Dark+Knight+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Dark+Knight+Scene+4",
    ],
  },
  {
    id: 4,
    title: "Pulp Fiction",
    poster: "/placeholder.svg?height=450&width=300&text=Pulp+Fiction",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Pulp+Fiction+Backdrop",
    year: 1994,
    rating: 8.9,
    runtime: 154,
    director: "Quentin Tarantino",
    cast: ["John Travolta", "Uma Thurman", "Samuel L. Jackson", "Bruce Willis"],
    plot: "The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",
    genres: ["Crime", "Drama"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Pulp+Fiction+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Pulp+Fiction+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Pulp+Fiction+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Pulp+Fiction+Scene+4",
    ],
  },
  {
    id: 5,
    title: "Interstellar",
    poster: "/placeholder.svg?height=450&width=300&text=Interstellar",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Interstellar+Backdrop",
    year: 2014,
    rating: 8.6,
    runtime: 169,
    director: "Christopher Nolan",
    cast: ["Matthew McConaughey", "Anne Hathaway", "Jessica Chastain", "Michael Caine"],
    plot: "A team of explorers travel through a wormhole in space in an attempt to ensure humanity's survival.",
    genres: ["Adventure", "Drama", "Sci-Fi"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Interstellar+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Interstellar+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Interstellar+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Interstellar+Scene+4",
    ],
  },
  {
    id: 6,
    title: "The Matrix",
    poster: "/placeholder.svg?height=450&width=300&text=Matrix",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Matrix+Backdrop",
    year: 1999,
    rating: 8.7,
    runtime: 136,
    director: "Lana Wachowski, Lilly Wachowski",
    cast: ["Keanu Reeves", "Laurence Fishburne", "Carrie-Anne Moss", "Hugo Weaving"],
    plot: "A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",
    genres: ["Action", "Sci-Fi"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Matrix+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Matrix+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Matrix+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Matrix+Scene+4",
    ],
  },
  {
    id: 7,
    title: "Forrest Gump",
    poster: "/placeholder.svg?height=450&width=300&text=Forrest+Gump",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Forrest+Gump+Backdrop",
    year: 1994,
    rating: 8.8,
    runtime: 142,
    director: "Robert Zemeckis",
    cast: ["Tom Hanks", "Robin Wright", "Gary Sinise", "Sally Field"],
    plot: "The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75.",
    genres: ["Drama", "Romance"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Forrest+Gump+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Forrest+Gump+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Forrest+Gump+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Forrest+Gump+Scene+4",
    ],
  },
  {
    id: 8,
    title: "The Godfather",
    poster: "/placeholder.svg?height=450&width=300&text=Godfather",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Godfather+Backdrop",
    year: 1972,
    rating: 9.2,
    runtime: 175,
    director: "Francis Ford Coppola",
    cast: ["Marlon Brando", "Al Pacino", "James Caan", "Diane Keaton"],
    plot: "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.",
    genres: ["Crime", "Drama"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Godfather+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Godfather+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Godfather+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Godfather+Scene+4",
    ],
  },
  {
    id: 9,
    title: "Fight Club",
    poster: "/placeholder.svg?height=450&width=300&text=Fight+Club",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Fight+Club+Backdrop",
    year: 1999,
    rating: 8.8,
    runtime: 139,
    director: "David Fincher",
    cast: ["Brad Pitt", "Edward Norton", "Helena Bonham Carter", "Meat Loaf"],
    plot: "An insomniac office worker and a devil-may-care soapmaker form an underground fight club that evolves into something much, much more.",
    genres: ["Drama"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Fight+Club+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Fight+Club+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Fight+Club+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Fight+Club+Scene+4",
    ],
  },
  {
    id: 10,
    title: "The Lord of the Rings: The Fellowship of the Ring",
    poster: "/placeholder.svg?height=450&width=300&text=LOTR",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=LOTR+Backdrop",
    year: 2001,
    rating: 8.8,
    runtime: 178,
    director: "Peter Jackson",
    cast: ["Elijah Wood", "Ian McKellen", "Orlando Bloom", "Sean Bean"],
    plot: "A meek Hobbit from the Shire and eight companions set out on a journey to destroy the powerful One Ring and save Middle-earth from the Dark Lord Sauron.",
    genres: ["Adventure", "Fantasy", "Drama"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=LOTR+Scene+1",
      "/placeholder.svg?height=200&width=300&text=LOTR+Scene+2",
      "/placeholder.svg?height=200&width=300&text=LOTR+Scene+3",
      "/placeholder.svg?height=200&width=300&text=LOTR+Scene+4",
    ],
  },
  {
    id: 11,
    title: "Titanic",
    poster: "/placeholder.svg?height=450&width=300&text=Titanic",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Titanic+Backdrop",
    year: 1997,
    rating: 7.9,
    runtime: 194,
    director: "James Cameron",
    cast: ["Leonardo DiCaprio", "Kate Winslet", "Billy Zane", "Kathy Bates"],
    plot: "A seventeen-year-old aristocrat falls in love with a kind but poor artist aboard the luxurious, ill-fated R.M.S. Titanic.",
    genres: ["Drama", "Romance"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Titanic+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Titanic+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Titanic+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Titanic+Scene+4",
    ],
  },
  {
    id: 12,
    title: "Avatar",
    poster: "/placeholder.svg?height=450&width=300&text=Avatar",
    backdrop: "/placeholder.svg?height=1080&width=1920&text=Avatar+Backdrop",
    year: 2009,
    rating: 7.8,
    runtime: 162,
    director: "James Cameron",
    cast: ["Sam Worthington", "Zoe Saldana", "Sigourney Weaver", "Stephen Lang"],
    plot: "A paraplegic Marine dispatched to the moon Pandora on a unique mission becomes torn between following his orders and protecting the world he feels is his home.",
    genres: ["Action", "Adventure", "Fantasy"],
    thumbnails: [
      "/placeholder.svg?height=200&width=300&text=Avatar+Scene+1",
      "/placeholder.svg?height=200&width=300&text=Avatar+Scene+2",
      "/placeholder.svg?height=200&width=300&text=Avatar+Scene+3",
      "/placeholder.svg?height=200&width=300&text=Avatar+Scene+4",
    ],
  },
]

// Mock data for reviews
export const mockReviews = [
  {
    id: 1,
    name: "John Smith",
    rating: 5,
    date: "2023-10-15",
    content: "One of the best movies I've ever seen. The concept is mind-blowing and the execution is flawless.",
  },
  {
    id: 2,
    name: "Mary Johnson",
    rating: 4,
    date: "2023-09-22",
    content: "Great movie with an interesting concept. The visuals are stunning and the acting is superb.",
  },
  {
    id: 3,
    name: "Robert Williams",
    rating: 3,
    date: "2023-08-05",
    content: "It's a good movie, but I found the plot a bit confusing at times. Still worth watching though.",
  },
  {
    id: 4,
    name: "Sarah Davis",
    rating: 2,
    date: "2023-11-10",
    content: "I was disappointed with this movie. The plot had too many holes and the pacing was off.",
  },
  {
    id: 5,
    name: "David Brown",
    rating: 5,
    date: "2023-12-03",
    content:
      "A masterpiece of cinema. The cinematography, music, and performances are exceptional. I've watched it multiple times and always discover something new.",
  },
  {
    id: 6,
    name: "Laura Wilson",
    rating: 4,
    date: "2023-11-28",
    content:
      "A thought-provoking film. The special effects are impressive and the story is captivating. Recommended for fans of the genre.",
  },
  {
    id: 7,
    name: "Michael Taylor",
    rating: 1,
    date: "2023-10-20",
    content:
      "I don't understand why so many people like this movie. I found it boring and predictable. Would not recommend wasting your time on it.",
  },
  {
    id: 8,
    name: "Jennifer Anderson",
    rating: 5,
    date: "2023-12-15",
    content:
      "Amazing! The plot, the characters, everything is perfectly executed. Definitely one of my favorite movies of all time.",
  },
]

// Function to get a movie by ID
export function getMovieById(id: number | string) {
  const numericId = typeof id === "string" ? Number.parseInt(id, 10) : id
  return mockMovies.find((movie) => movie.id === numericId) || null
}

// Function to get reviews by movie ID
export function getReviewsByMovieId(movieId: number | string) {
  // In a real app, you would filter reviews by movie ID
  // Here we simply return all reviews for any movie
  return mockReviews
}

// Function to search movies
export function searchMovies(query: string) {
  if (!query) return mockMovies

  const lowercaseQuery = query.toLowerCase()
  return mockMovies.filter(
    (movie) =>
      movie.title.toLowerCase().includes(lowercaseQuery) ||
      movie.year.toString().includes(lowercaseQuery) ||
      movie.genres.some((genre) => genre.toLowerCase().includes(lowercaseQuery)) ||
      movie.director.toLowerCase().includes(lowercaseQuery) ||
      movie.cast.some((actor) => actor.toLowerCase().includes(lowercaseQuery)),
  )
}

// Function to get popular movies
export function getPopularMovies(limit = 6) {
  // In a real app, this would be sorted by popularity
  // Here we simply return the first few movies
  return mockMovies.slice(0, limit)
}

// Function to get top rated movies
export function getTopRatedMovies(limit = 6) {
  // Sort by rating (highest to lowest) and return the first 'limit' movies
  return [...mockMovies].sort((a, b) => b.rating - a.rating).slice(0, limit)
}
```

Now, let's create a ThemeProvider component that will handle the theme context for our application. This component will allow us to switch between light and dark themes easily.

```tsx file="components/theme-provider.tsx"
"use client"
import { ThemeProvider as NextThemesProvider, type ThemeProviderProps } from "next-themes"

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}
```

Next, let's create a MovieThumbnails component that will display a grid of movie thumbnails for users to browse. This component will provide a visual overview of available movies and help users navigate the movie collection.

```tsx file="components/movie-thumbnails.tsx"
"use client"

import { useState } from "react"
import Image from "next/image"
import { Dialog, DialogContent, DialogTrigger } from "@/components/ui/dialog"
import { ChevronLeft, ChevronRight, X } from "lucide-react"
import { Button } from "@/components/ui/button"

interface MovieThumbnailsProps {
  title: string
  thumbnails: string[]
}

export function MovieThumbnails({ title, thumbnails }: MovieThumbnailsProps) {
  const [open, setOpen] = useState(false)
  const [currentIndex, setCurrentIndex] = useState(0)

  const handlePrevious = () => {
    setCurrentIndex((prev) => (prev === 0 ? thumbnails.length - 1 : prev - 1))
  }

  const handleNext = () => {
    setCurrentIndex((prev) => (prev === thumbnails.length - 1 ? 0 : prev + 1))
  }

  const handleClose = () => {
    setOpen(false)
  }

  return (
    <div className="space-y-4">
      <h3 className="font-medium">Thumbnails</h3>
      <div className="flex gap-2 overflow-x-auto pb-2 -mx-2 px-2">
        {thumbnails.map((thumbnail, index) => (
          <Dialog
            key={index}
            open={open && currentIndex === index}
            onOpenChange={(newOpen) => {
              setOpen(newOpen)
              if (newOpen) setCurrentIndex(index)
            }}
          >
            <DialogTrigger asChild>
              <button className="relative min-w-[120px] h-[80px] rounded-md overflow-hidden border hover:opacity-90 transition-opacity">
                <Image
                  src={thumbnail || "/placeholder.svg"}
                  alt={`${title} thumbnail ${index + 1}`}
                  fill
                  className="object-cover"
                />
              </button>
            </DialogTrigger>
            <DialogContent className="max-w-3xl p-0 bg-transparent border-none">
              <div className="relative bg-black rounded-lg overflow-hidden">
                <div className="relative aspect-video">
                  <Image
                    src={thumbnails[currentIndex] || "/placeholder.svg"}
                    alt={`${title} scene ${currentIndex + 1}`}
                    fill
                    className="object-contain"
                  />
                </div>
                <div className="absolute top-2 right-2">
                  <Button variant="ghost" size="icon" className="text-white hover:bg-black/50" onClick={handleClose}>
                    <X className="h-5 w-5" />
                  </Button>
                </div>
                <div className="absolute inset-y-0 left-2 flex items-center">
                  <Button variant="ghost" size="icon" className="text-white hover:bg-black/50" onClick={handlePrevious}>
                    <ChevronLeft className="h-8 w-8" />
                  </Button>
                </div>
                <div className="absolute inset-y-0 right-2 flex items-center">
                  <Button variant="ghost" size="icon" className="text-white hover:bg-black/50" onClick={handleNext}>
                    <ChevronRight className="h-8 w-8" />
                  </Button>
                </div>
                <div className="absolute bottom-2 inset-x-0 flex justify-center gap-1">
                  {thumbnails.map((_, idx) => (
                    <button
                      key={idx}
                      className={`w-2 h-2 rounded-full ${idx === currentIndex ? "bg-white" : "bg-white/50"}`}
                      onClick={() => setCurrentIndex(idx)}
                    />
                  ))}
                </div>
              </div>
            </DialogContent>
          </Dialog>
        ))}
      </div>
    </div>
  )
}
```

Now, let's create a MovieCard component that will display detailed information about a movie. This component will show movie details such as title, poster, rating, and description.

```tsx file="components/movie-card.tsx"
import Link from "next/link"
import Image from "next/image"
import { Star } from "lucide-react"
import { Card, CardContent } from "@/components/ui/card"
import { Badge } from "@/components/ui/badge"

interface MovieCardProps {
  movie: {
    id: number
    title: string
    poster: string
    year: number
    rating: number
    thumbnails?: string[]
  }
}

export function MovieCard({ movie }: MovieCardProps) {
  return (
    <div className="w-full">
      <Link href={`/movies/${movie.id}`}>
        <Card className="overflow-hidden transition-all hover:shadow-lg h-full">
          <div className="relative w-full aspect-[2/3]">
            <Image
              src={movie.poster || "/placeholder.svg"}
              alt={movie.title}
              fill
              className="object-cover"
              sizes="(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"
            />
          </div>
          <CardContent className="p-3">
            <h3 className="font-semibold line-clamp-1 text-sm">{movie.title}</h3>
            <div className="flex items-center justify-between mt-1.5">
              <span className="text-muted-foreground text-xs">{movie.year}</span>
              <Badge variant="secondary" className="flex items-center gap-1 text-xs">
                <Star className="h-2.5 w-2.5 fill-current" />
                {movie.rating}
              </Badge>
            </div>
          </CardContent>
        </Card>
      </Link>
    </div>
  )
}
```

Next, let's create a Navbar component that will serve as the navigation bar for our application. This component will provide links to different sections of the app and help users navigate between pages.

```tsx file="components/navbar.tsx"
import Link from "next/link"
import { Film } from "lucide-react"
import { Button } from "@/components/ui/button"

export function Navbar() {
  return (
    <header className="border-b sticky top-0 bg-background z-10">
      <div className="container mx-auto px-4 py-3 flex items-center justify-between">
        <Link href="/" className="flex items-center gap-2 font-semibold">
          <Film className="h-6 w-6" />
          <span>Movie Explorer</span>
        </Link>
        <nav className="flex items-center gap-4">
          <Link href="/">
            <Button variant="ghost" size="sm">
              Home
            </Button>
          </Link>
        </nav>
      </div>
    </header>
  )
}
```

Now, let's create a ReviewForm component that will allow users to write and submit reviews for movies. This component will provide a form for users to input their review and submit it for display.

```tsx file="components/review-form.tsx"
"use client"

import { useState } from "react"
import { Star } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Textarea } from "@/components/ui/textarea"
import { Input } from "@/components/ui/input"
import { Card, CardContent, CardFooter } from "@/components/ui/card"
import { useForm } from "react-hook-form"
import { zodResolver } from "@hookform/resolvers/zod"
import * as z from "zod"
import { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from "@/components/ui/form"
import { toast } from "sonner"

// Define the form schema with zod
const reviewFormSchema = z.object({
  name: z.string().min(2, { message: "Name must be at least 2 characters" }),
  review: z.string().min(10, { message: "Review must be at least 10 characters" }),
  rating: z.number().min(1, { message: "Please select a rating" }),
})

type ReviewFormValues = z.infer<typeof reviewFormSchema>

interface ReviewFormProps {
  movieId: string
  updateReviews: (name: string, rating: number, review: string) => void
}

export function ReviewForm({ movieId, updateReviews }: ReviewFormProps) {
  const [hoveredRating, setHoveredRating] = useState(0)
  const [isSubmitting, setIsSubmitting] = useState(false)

  // Initialize the form
  const form = useForm<ReviewFormValues>({
    resolver: zodResolver(reviewFormSchema),
    defaultValues: {
      name: "",
      review: "",
      rating: 0,
    },
  })

  const onSubmit = async (values: ReviewFormValues) => {
    setIsSubmitting(true)

    // Simulate API call
    setTimeout(() => {
      updateReviews(values.name, values.rating, values.review)

      // Show Sonner toast notification
      toast.success("Review submitted!", {
        description: "Thank you for sharing your opinion.",
        duration: 4000,
      })

      // Reset form
      form.reset()
      setIsSubmitting(false)
    }, 1000)
  }

  return (
    <Card>
      <Form {...form}>
        <form onSubmit={form.handleSubmit(onSubmit)}>
          <CardContent className="space-y-4 pt-6">
            <FormField
              control={form.control}
              name="rating"
              render={({ field }) => (
                <FormItem>
                  <FormLabel>Rating</FormLabel>
                  <div className="flex gap-1 justify-center md:justify-start">
                    {[1, 2, 3, 4, 5].map((star) => (
                      <button
                        key={star}
                        type="button"
                        onClick={() => field.onChange(star)}
                        onMouseEnter={() => setHoveredRating(star)}
                        onMouseLeave={() => setHoveredRating(0)}
                        className="p-1"
                      >
                        <Star
                          className={`h-6 w-6 ${
                            star <= (hoveredRating || field.value)
                              ? "text-yellow-500 fill-yellow-500"
                              : "text-muted-foreground"
                          }`}
                        />
                      </button>
                    ))}
                  </div>
                  <FormMessage />
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="name"
              render={({ field }) => (
                <FormItem>
                  <FormLabel>Your Name</FormLabel>
                  <FormControl>
                    <Input {...field} />
                  </FormControl>
                  <FormMessage />
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="review"
              render={({ field }) => (
                <FormItem>
                  <FormLabel>Your Review</FormLabel>
                  <FormControl>
                    <Textarea rows={4} {...field} />
                  </FormControl>
                  <FormMessage />
                </FormItem>
              )}
            />
          </CardContent>
          <CardFooter className="flex justify-center md:justify-start">
            <Button type="submit" disabled={isSubmitting} className="w-full md:w-auto">
              {isSubmitting ? "Submitting..." : "Submit Review"}
            </Button>
          </CardFooter>
        </form>
      </Form>
    </Card>
  )
}
```

Next, let's create a Footer component that will display additional information and links at the bottom of the page. This component will provide contact information, social media links, and other relevant details.

```tsx file="components/footer.tsx"
export function Footer() {
  return (
    <footer className="border-t py-3 sticky bottom-0 bg-background z-10 text-center text-sm text-muted-foreground">
      <div className="container mx-auto px-4">© {new Date().getFullYear()} Movie Explorer. All rights reserved.</div>
    </footer>
  )
}
```

Now, let's create a MovieGrid component that will display a grid of movie cards for users to browse. This component will show movie details in a visually appealing layout and allow users to view more information about each movie.

```tsx file="components/movie-grid.tsx"
"use client"

import { useState, useEffect } from "react"
import { MovieCard } from "@/components/movie-card"
import { Skeleton } from "@/components/ui/skeleton"
import { Button } from "@/components/ui/button"
import { Search, TrendingUp } from "lucide-react"
import { searchMovies, getPopularMovies, getTopRatedMovies } from "@/lib/mock-data"

interface MovieGridProps {
  searchQuery?: string
  onSuggestionClick?: (title: string) => void
  isSearching?: boolean
  type?: "popular" | "top-rated" | "search"
}

export function MovieGrid({ searchQuery, onSuggestionClick, isSearching = false, type = "search" }: MovieGridProps) {
  const [movies, setMovies] = useState<any[]>([])
  const [loading, setLoading] = useState(true)
  const [searchCache, setSearchCache] = useState<Record<string, any[]>>({})

  useEffect(() => {
    // Skip fetching if we're still typing
    if (isSearching) return

    // Simulate API fetch
    const fetchMovies = async () => {
      setLoading(true)

      // Check if we have cached results for this query
      if (type === "search" && searchQuery && searchCache[searchQuery]) {
        setMovies(searchCache[searchQuery])
        setLoading(false)
        return
      }

      // In a real app, fetch from an API with the search query
      setTimeout(() => {
        let result: any = []

        if (type === "popular") {
          result = getPopularMovies()
        } else if (type === "top-rated") {
          result = getTopRatedMovies()
        } else if (searchQuery) {
          result = searchMovies(searchQuery)

          // Cache the results
          setSearchCache((prev) => ({
            ...prev,
            [searchQuery]: result,
          }))
        } else {
          result = getPopularMovies()
        }

        setMovies(result)
        setLoading(false)
      }, 500) // Reduced loading time for better UX
    }

    fetchMovies()
  }, [searchQuery, isSearching, searchCache, type])

  if (loading) {
    return (
      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 px-1">
        {[1, 2, 3, 4, 5, 6].map((i) => (
          <div key={i} className="space-y-2">
            <Skeleton className="aspect-[2/3] w-full rounded-lg" />
            <Skeleton className="h-4 w-3/4" />
            <Skeleton className="h-4 w-1/2" />
          </div>
        ))}
      </div>
    )
  }

  if (movies.length === 0 && searchQuery) {
    return (
      <div className="text-center py-8 max-w-2xl mx-auto">
        <div className="bg-muted rounded-lg p-6 mb-8">
          <Search className="h-12 w-12 mx-auto mb-4 text-muted-foreground" />
          <h3 className="text-xl font-semibold mb-2">No results found for "{searchQuery}"</h3>
          <p className="text-muted-foreground mb-6">
            We couldn't find any movies matching your search. Try different keywords or browse our suggestions below.
          </p>

          <div className="space-y-4">
            <div>
              <h4 className="font-medium mb-2">Search tips:</h4>
              <ul className="text-sm text-muted-foreground list-disc list-inside space-y-1">
                <li>Check the spelling of your search terms</li>
                <li>Try using more general keywords</li>
                <li>Search by movie title, year, or genre</li>
              </ul>
            </div>

            <div>
              <h4 className="font-medium mb-2">Popular movies you might like:</h4>
              <div className="flex flex-wrap gap-2 justify-center">
                {getPopularMovies(6).map((movie) => (
                  <Button
                    key={movie.id}
                    variant="outline"
                    size="sm"
                    onClick={() => onSuggestionClick && onSuggestionClick(movie.title)}
                  >
                    {movie.title}
                  </Button>
                ))}
              </div>
            </div>
          </div>
        </div>

        <div className="space-y-4">
          <div className="flex items-center gap-2">
            <TrendingUp className="h-5 w-5" />
            <h3 className="text-lg font-medium">Trending now</h3>
          </div>
          <div className="grid grid-cols-2 sm:grid-cols-3 gap-4 px-1">
            {getTopRatedMovies(3).map((movie) => (
              <MovieCard key={movie.id} movie={movie} />
            ))}
          </div>
        </div>
      </div>
    )
  }

  return (
    <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 px-1">
      {movies.map((movie) => (
        <MovieCard key={movie.id} movie={movie} />
      ))}
    </div>
  )
}
```

Next, let's create a SearchForm component that will allow users to search for movies by title. This component will provide a search input field and a submit button for users to find movies easily.

```tsx file="components/search-form.tsx"
"use client"

import type React from "react"
import { useState, useEffect, useRef } from "react"
import { Search } from "lucide-react"
import { Input } from "@/components/ui/input"

interface SearchFormProps {
  value?: string
  onQueryChange?: (query: string) => void
}

export function SearchForm({ value = "", onQueryChange }: SearchFormProps) {
  const [localQuery, setLocalQuery] = useState(value)
  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null)

  // Update local state when value prop changes (for suggestion clicks)
  useEffect(() => {
    setLocalQuery(value)
  }, [value])

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    if (onQueryChange) {
      onQueryChange(localQuery)
    }
  }

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newValue = e.target.value

    // Always update local state immediately for responsive typing
    setLocalQuery(newValue)

    // Clear any existing timer
    if (debounceTimerRef.current) {
      clearTimeout(debounceTimerRef.current)
    }

    // Set a new timer to update parent state after user stops typing
    debounceTimerRef.current = setTimeout(() => {
      if (onQueryChange) {
        onQueryChange(newValue)
      }
    }, 500) // Increased debounce time to 500ms for better performance
  }

  // Clean up timer on unmount
  useEffect(() => {
    return () => {
      if (debounceTimerRef.current) {
        clearTimeout(debounceTimerRef.current)
      }
    }
  }, [])

  return (
    <form onSubmit={handleSubmit} className="w-full max-w-lg">
      <div className="relative w-full">
        <Search className="absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground" />
        <Input
          type="search"
          placeholder="Search for movies..."
          className="pl-10 w-full"
          value={localQuery}
          onChange={handleChange}
          onKeyDown={(e) => {
            // Submit search on Enter key
            if (e.key === "Enter") {
              if (onQueryChange) {
                onQueryChange(localQuery)
              }
              // Clear any pending debounce
              if (debounceTimerRef.current) {
                clearTimeout(debounceTimerRef.current)
                debounceTimerRef.current = null
              }
            }
          }}
        />
      </div>
    </form>
  )
}
```

Now, let's create a SonnerProvider component that will handle the sonner context for our application. This component will allow us to switch between different sonner themes easily.

```tsx file="components/sonner-provider.tsx"
"use client"

import { Toaster as SonnerToaster } from "sonner"

export function SonnerProvider() {
  return (
    <SonnerToaster
      position="bottom-right"
      toastOptions={{
        duration: 3000,
        className: "sonner-toast",
        style: {
          background: "hsl(var(--background))",
          color: "hsl(var(--foreground))",
          border: "1px solid hsl(var(--border))",
          borderRadius: "var(--radius)",
        },
      }}
    />
  )
}
```

Next, let's create a ReviewList component that will display a list of reviews for a specific movie. This component will show user reviews, ratings, and comments for each movie.

```tsx file="components/review-list.tsx"
"use client"

import { useState, useEffect } from "react"
import { Star, ThumbsUp, ThumbsDown } from "lucide-react"
import { Avatar, AvatarFallback } from "@/components/ui/avatar"
import { Skeleton } from "@/components/ui/skeleton"
import { ReviewForm } from "@/components/review-form"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Badge } from "@/components/ui/badge"
import { getReviewsByMovieId } from "@/lib/mock-data"

interface ReviewListProps {
  movieId: string
}

type FilterType = "all" | "positive" | "critical"

export function ReviewList({ movieId }: ReviewListProps) {
  const [reviews, setReviews] = useState<any[]>([])
  const [loading, setLoading] = useState(true)
  const [filter, setFilter] = useState<FilterType>("all")

  useEffect(() => {
    // Simulate API fetch
    const fetchReviews = async () => {
      setLoading(true)
      // In a real app, fetch from an API based on movieId
      setTimeout(() => {
        // Get reviews for this movie
        const movieReviews = getReviewsByMovieId(movieId)

        // Sort reviews by date (newest first)
        const sortedReviews = [...movieReviews].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())

        setReviews(sortedReviews)
        setLoading(false)
      }, 1000)
    }

    fetchReviews()
  }, [movieId])

  const handleUpdateReviews = (name: string, rating: number, review: string) => {
    const newReview = {
      id: Date.now(), // Unique ID
      name: name,
      rating: rating,
      content: review,
      date: new Date().toISOString(),
    }
    // Add new review at the beginning (newest first)
    setReviews((prevReviews) => [newReview, ...prevReviews])
  }

  const filteredReviews = reviews.filter((review) => {
    if (filter === "all") return true
    if (filter === "positive") return review.rating >= 4
    if (filter === "critical") return review.rating <= 3
    return true
  })

  const reviewCounts = {
    all: reviews.length,
    positive: reviews.filter((review) => review.rating >= 4).length,
    critical: reviews.filter((review) => review.rating <= 3).length,
  }

  if (loading) {
    return (
      <div className="space-y-6">
        {[1, 2, 3].map((i) => (
          <div key={i} className="flex gap-4">
            <Skeleton className="h-10 w-10 rounded-full" />
            <div className="space-y-2 flex-1">
              <Skeleton className="h-4 w-1/4" />
              <Skeleton className="h-4 w-full" />
              <Skeleton className="h-4 w-full" />
            </div>
          </div>
        ))}
      </div>
    )
  }

  return (
    <div className="space-y-10">
      <div className="space-y-6">
        <div className="border-b pb-2">
          <h2 className="text-xl font-semibold">User Reviews</h2>
        </div>

        {reviews.length === 0 ? (
          <div className="text-center py-8">
            <p className="text-muted-foreground">No reviews yet. Be the first to review!</p>
          </div>
        ) : (
          <div className="space-y-6">
            <Tabs defaultValue="all" onValueChange={(value) => setFilter(value as FilterType)}>
              <div className="flex justify-center md:justify-start">
                <TabsList className="w-full md:w-auto grid grid-cols-3 md:grid-cols-none md:flex">
                  <TabsTrigger
                    value="all"
                    className="flex items-center gap-2 px-2 py-1.5 text-xs sm:text-sm sm:px-3 sm:py-2 justify-center md:justify-start"
                  >
                    All
                    <Badge variant="secondary" className="ml-1">
                      {reviewCounts.all}
                    </Badge>
                  </TabsTrigger>
                  <TabsTrigger
                    value="positive"
                    className="flex items-center gap-2 px-2 py-1.5 text-xs sm:text-sm sm:px-3 sm:py-2 justify-center md:justify-start"
                  >
                    <ThumbsUp className="h-3 w-3 sm:h-4 sm:w-4" />
                    <span className="hidden xs:inline">Positive</span>
                    <Badge variant="secondary" className="ml-1">
                      {reviewCounts.positive}
                    </Badge>
                  </TabsTrigger>
                  <TabsTrigger
                    value="critical"
                    className="flex items-center gap-2 px-2 py-1.5 text-xs sm:text-sm sm:px-3 sm:py-2 justify-center md:justify-start"
                  >
                    <ThumbsDown className="h-3 w-3 sm:h-4 sm:w-4" />
                    <span className="hidden xs:inline">Critical</span>
                    <Badge variant="secondary" className="ml-1">
                      {reviewCounts.critical}
                    </Badge>
                  </TabsTrigger>
                </TabsList>
              </div>

              <TabsContent value="all" className="mt-6">
                {renderReviews(filteredReviews)}
              </TabsContent>
              <TabsContent value="positive" className="mt-6">
                {filteredReviews.length > 0 ? (
                  renderReviews(filteredReviews)
                ) : (
                  <div className="text-center py-8">
                    <p className="text-muted-foreground">No positive reviews yet.</p>
                  </div>
                )}
              </TabsContent>
              <TabsContent value="critical" className="mt-6">
                {filteredReviews.length > 0 ? (
                  renderReviews(filteredReviews)
                ) : (
                  <div className="text-center py-8">
                    <p className="text-muted-foreground">No critical reviews yet.</p>
                  </div>
                )}
              </TabsContent>
            </Tabs>
          </div>
        )}
      </div>

      <div className="pt-4">
        <h2 className="text-xl font-semibold mb-4">Write a Review</h2>
        <ReviewForm movieId={movieId} updateReviews={handleUpdateReviews} />
      </div>
    </div>
  )

  function renderReviews(reviewsToRender: any[]) {
    return (
      <div className="space-y-8">
        {reviewsToRender.map((review) => (
          <div key={review.id} className="border-b pb-6 last:border-0">
            <div className="flex items-start gap-4">
              <Avatar>
                <AvatarFallback>
                  {review.name
                    .split(" ")
                    .map((n: string) => n[0])
                    .join("")}
                </AvatarFallback>
              </Avatar>
              <div className="space-y-1 flex-1">
                <div className="flex flex-wrap items-center gap-2">
                  <span className="font-medium">{review.name}</span>
                  <div className="flex">
                    {[1, 2, 3, 4, 5].map((star) => (
                      <Star
                        key={star}
                        className={`h-4 w-4 ${
                          star <= review.rating ? "text-yellow-500 fill-yellow-500" : "text-muted-foreground"
                        }`}
                      />
                    ))}
                  </div>
                </div>
                <p className="text-sm text-muted-foreground">{new Date(review.date).toLocaleDateString()}</p>
                <p className="mt-2">{review.content}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    )
  }
}
```

Now, let's create a custom hook called useToast that will handle toast notifications in our application. This hook will simplify the process of displaying notifications and make it easy to provide feedback to users.

```tsx file="hooks/use-toast.ts"
"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }
```

Next, let's create a custom hook called useMobile that will detect the user's device type and screen size. This hook will help us optimize the layout and user experience for different devices.

```tsx file="hooks/use-mobile.tsx"
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
```

Next, let's update the Layout component to include the new components we've created. This component will serve as the main layout for our application and provide a consistent structure for our pages.

```tsx file="app/layout.tsx"
import type React from "react"
import type { Metadata } from "next"
import { Inter } from "next/font/google"
import "./globals.css"
import { Navbar } from "@/components/navbar"
import { Footer } from "@/components/footer"
import { SonnerProvider } from "@/components/sonner-provider"

const inter = Inter({ subsets: ["latin"] })

export const metadata: Metadata = {
  title: "Movie Explorer",
  description: "Search for movies, view details, and write reviews",
  generator: "v0.dev",
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <div className="flex flex-col h-screen">
          <Navbar />
          <main className="flex-1 overflow-auto">{children}</main>
          <Footer />
          <SonnerProvider />
        </div>
      </body>
    </html>
  )
}
```

Now, let's update the Page component to include the new components and hooks we've created. This component will serve as the main page template for our application and help us organize our content effectively.

```tsx file="app/page.tsx"
"use client"

import { useState, useCallback } from "react"
import { SearchForm } from "@/components/search-form"
import { MovieGrid } from "@/components/movie-grid"

export default function Home() {
  const [searchQuery, setSearchQuery] = useState("")
  const [isSearching, setIsSearching] = useState(false)

  const handleQueryChange = useCallback((query: string) => {
    setIsSearching(true)
    setSearchQuery(query)

    // Reset searching state after a delay to prevent UI flicker
    setTimeout(() => {
      setIsSearching(false)
    }, 100)
  }, [])

  const handleSuggestionClick = useCallback((title: string) => {
    setSearchQuery(title)
  }, [])

  return (
    <div className="container mx-auto px-4 py-8">
      <div className="flex flex-col items-center mb-10">
        <h1 className="text-4xl font-bold text-center mb-6">Movie Explorer</h1>
        <p className="text-muted-foreground text-center max-w-2xl mb-8">
          Search for your favorite movies, discover new films, and share your thoughts with our community.
        </p>
        <SearchForm value={searchQuery} onQueryChange={handleQueryChange} />
      </div>

      {searchQuery ? (
        <div className="mb-10">
          <p className="mb-6 text-muted-foreground">
            Showing results for: <span className="font-medium text-foreground">{searchQuery}</span>
          </p>
          <MovieGrid
            searchQuery={searchQuery}
            onSuggestionClick={handleSuggestionClick}
            isSearching={isSearching}
            type="search"
          />
        </div>
      ) : (
        <>
          <div className="mb-10">
            <h2 className="text-2xl font-semibold mb-6">Popular Movies</h2>
            <MovieGrid onSuggestionClick={handleSuggestionClick} type="popular" />
          </div>

          <div>
            <h2 className="text-2xl font-semibold mb-6">Top Rated</h2>
            <MovieGrid onSuggestionClick={handleSuggestionClick} type="top-rated" />
          </div>
        </>
      )}
    </div>
  )
}
```

Next, let's create a Loading component that will display a loading spinner while fetching data. This component will provide visual feedback to users and improve the user experience during data loading.

```tsx file="app/loading.tsx"
export default function Loading() {
  return null
}
```

Finally, let's create a dynamic movie details page that will display detailed information about a specific movie. This page will show movie details, reviews, and related content based on the movie ID in the URL.

```tsx file="app/movies/[id]/page.tsx"
import Image from "next/image"
import Link from "next/link"
import { ArrowLeft, Clock, Calendar, Star } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { ReviewList } from "@/components/review-list"
import { Badge } from "@/components/ui/badge"
import { getMovieById } from "@/lib/mock-data"

interface MoviePageProps {
  params: { id: string }
}

export default function MoviePage({ params }: MoviePageProps) {
  const movieId = params.id

  // Get movie data
  const movie = getMovieById(movieId)

  // If movie not found, show a message
  if (!movie) {
    return (
      <div className="container mx-auto px-4 py-8 text-center">
        <h1 className="text-2xl font-bold mb-4">Movie not found</h1>
        <p className="mb-6">Sorry, we couldn't find the movie you're looking for.</p>
        <Link href="/">
          <Button>Return to home page</Button>
        </Link>
      </div>
    )
  }

  return (
    <div className="pb-4">
      {/* Backdrop */}
      <div className="relative h-[40vh] w-full">
        <div className="absolute inset-0 bg-gradient-to-t from-background to-background/60 z-10" />
        <Image src={movie.backdrop || "/placeholder.svg"} alt={movie.title} fill className="object-cover" priority />
        <div className="container relative z-20 h-full flex flex-col justify-end pb-6 px-4 md:px-6 mx-auto">
          <Link href="/" className="mb-auto mt-4">
            <Button variant="ghost" size="sm" className="gap-1 px-0">
              <ArrowLeft className="h-4 w-4" />
              Back
            </Button>
          </Link>
          <div className="flex flex-col md:flex-row gap-6">
            <div className="hidden md:block relative h-[200px] w-[140px] shrink-0 rounded-lg overflow-hidden shadow-lg">
              <Image src={movie.poster || "/placeholder.svg"} alt={movie.title} fill className="object-cover" />
            </div>
            <div>
              <h1 className="text-2xl md:text-3xl font-bold">{movie.title}</h1>
              <div className="flex flex-wrap gap-2 mt-2">
                {movie.genres.map((genre) => (
                  <Badge key={genre} variant="secondary">
                    {genre}
                  </Badge>
                ))}
              </div>
              <div className="flex flex-wrap gap-4 mt-3 text-sm">
                <div className="flex items-center gap-1">
                  <Star className="h-4 w-4 text-yellow-500 fill-yellow-500" />
                  <span>{movie.rating}/10</span>
                </div>
                <div className="flex items-center gap-1">
                  <Calendar className="h-4 w-4" />
                  <span>{movie.year}</span>
                </div>
                <div className="flex items-center gap-1">
                  <Clock className="h-4 w-4" />
                  <span>{movie.runtime} min</span>
                </div>
              </div>
              <div className="mt-3">
                <p className="text-sm">{movie.plot}</p>
                <p className="text-sm mt-2">
                  <span className="font-medium">Director:</span> {movie.director}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Content */}
      <div className="container mx-auto py-4 px-4 md:px-6">
        {/* Cast */}
        <div className="mb-6">
          <h2 className="text-lg font-semibold mb-3">Cast</h2>
          <div className="flex flex-wrap gap-2">
            {movie.cast.map((actor) => (
              <Badge key={actor} variant="outline">
                {actor}
              </Badge>
            ))}
          </div>
        </div>

        <Tabs defaultValue="photos" className="w-full">
          <div className="flex justify-center md:justify-start mb-6">
            <TabsList className="md:w-auto w-full grid grid-cols-2 md:grid-cols-none md:flex">
              <TabsTrigger value="photos" className="text-center md:text-left">
                Photos
              </TabsTrigger>
              <TabsTrigger value="reviews" className="text-center md:text-left">
                Reviews
              </TabsTrigger>
            </TabsList>
          </div>

          <TabsContent value="photos" className="space-y-6">
            <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
              {movie.thumbnails.map((thumbnail, index) => (
                <div key={index} className="relative aspect-video rounded-lg overflow-hidden">
                  <Image
                    src={thumbnail || "/placeholder.svg"}
                    alt={`${movie.title} scene ${index + 1}`}
                    fill
                    className="object-cover hover:scale-105 transition-transform duration-300"
                  />
                </div>
              ))}
            </div>
          </TabsContent>

          <TabsContent value="reviews" className="space-y-8">
            <ReviewList movieId={movieId} />
          </TabsContent>
        </Tabs>
      </div>
    </div>
  )
}
```

